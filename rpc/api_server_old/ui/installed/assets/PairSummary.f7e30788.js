import{f as P}from"./numberformat.a1b2908a.js";import{d as S,u as g,c as v,t as _,n as h}from"./index.061ad1de.js";import{T as C,P as $}from"./TradeProfit.df90b345.js";var b=S({name:"PairSummary",components:{TradeProfit:C,ProfitPill:$},props:{pairlist:{required:!0,type:Array},currentLocks:{required:!1,type:Array,default:()=>[]},trades:{required:!0,type:Array},sortMethod:{default:"normal",type:String},backtestMode:{required:!1,default:!1,type:Boolean}},setup(n){const t=g(),i=v(()=>{const o=[];return n.pairlist.forEach(a=>{const r=n.trades.filter(s=>s.pair===a),d=n.currentLocks.filter(s=>s.pair===a);let m="",l;d.sort((s,c)=>s.lock_end_timestamp>c.lock_end_timestamp?-1:1),d.length>0&&([l]=d,m=`${_(l.lock_end_timestamp)} - ${l.reason}`);let f="",u=0,k=0;r.forEach(s=>{var c;u+=s.profit_ratio,k+=(c=s.profit_abs)!=null?c:0});const y=r.length,p=y?r[0]:void 0;r.length>0&&(f=`Current profit: ${P(u)}`),p&&(f+=`
Open since: ${_(p.open_timestamp)}`),o.push({pair:a,trade:p,locks:l,lockReason:m,profitString:f,profit:u,profitAbs:k,tradeCount:y})}),n.sortMethod==="profit"?o.sort((a,r)=>a.profit>r.profit?-1:1):o.sort((a,r)=>a.trade&&!r.trade?-1:a.trade&&r.trade?a.trade.trade_id>r.trade.trade_id?1:-1:!a.locks&&r.locks?-1:a.locks&&r.locks?a.locks.lock_end_timestamp>r.locks.lock_end_timestamp?1:-1:1),o}),e=v(()=>[{key:"pair",label:"Pair"},{key:"locks.lock_end_timestamp",label:"Lock",formatter:o=>o?`${_(o)}`:""},{key:"trade.current_profit",label:"Position",formatter:o=>P(o,3)}]);return{combinedPairList:i,tableFields:e,botStore:t}}});var L=function(){var t=this,i=t._self._c;return t._self._setupProxy,i("b-list-group",t._l(t.combinedPairList,function(e){return i("b-list-group-item",{key:e.pair,staticClass:"d-flex justify-content-between align-items-center py-1",attrs:{button:"",active:e.pair===t.botStore.activeBot.selectedPair,title:`${e.pair} - ${e.tradeCount} trades`},on:{click:function(o){t.botStore.activeBot.selectedPair=e.pair}}},[i("div",[t._v(" "+t._s(e.pair)+" "),e.locks?i("span",{attrs:{title:e.lockReason}},[t._v(" \u{1F512} ")]):t._e()]),e.trade&&!t.backtestMode?i("TradeProfit",{attrs:{trade:e.trade}}):t._e(),t.backtestMode&&e.tradeCount>0?i("ProfitPill",{attrs:{"profit-ratio":e.profit,"stake-currency":t.botStore.activeBot.stakeCurrency}}):t._e()],1)}),1)},x=[],B=h(b,L,x,!1,null,"21cb9827",null,null),F=B.exports;export{F as P};
//# sourceMappingURL=PairSummary.f7e30788.js.map
